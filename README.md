# KI-gest√ºtztes QMS f√ºr Medizinprodukte (ISO 13485 / MDR)

> **Transformation von reaktivem zu proaktivem Qualit√§tsmanagement durch KI-Integration**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-green.svg)](https://fastapi.tiangolo.com/)
[![React](https://img.shields.io/badge/React-18+-blue.svg)](https://reactjs.org/)

## üìã Inhaltsverzeichnis

- [üéØ Projekt√ºbersicht](#-projekt√ºbersicht)
- [‚ö° Schnellstart](#-schnellstart)
- [üöÄ MVP Quick Start](#-mvp-quick-start)
- [üèóÔ∏è Architektur](#Ô∏è-architektur)
- [üîß Installation](#-installation)
- [üìö Dokumentation](#-dokumentation)
- [üöÄ Entwicklung](#-entwicklung)
- [üìà Roadmap](#-roadmap)
- [ü§ù Mitwirken](#-mitwirken)

## üéØ Projekt√ºbersicht

Ein modulares, KI-gest√ºtztes Qualit√§tsmanagementsystem (QMS) f√ºr Medizinprodukte nach **ISO 13485** und **MDR**.

### Kernziele
- **70%** Reduzierung des administrativen Aufwands
- **90%** Verbesserung der Dokumentenkonsistenz
- **300-400%** ROI innerhalb von 24 Monaten
- Automatisierung von Compliance-Checks
- Demokratisierung von QM-Wissen

### Transformative Wirkung
| Vorher | Nachher |
|--------|---------|
| Dokumentenbasiert | Wissensbasiert |
| Reaktiv | Proaktiv |
| Manuell | Automatisiert |
| Statisch | Intelligent |

## ‚ö° Schnellstart

### Systemanforderungen
- **Python** 3.11+
- **Node.js** 18+
- **Docker** & Docker Compose
- **Git**

### üöÄ In 5 Minuten startklar

```bash
# Repository klonen
git clone https://github.com/your-org/ki-qms.git
cd ki-qms

# Umgebung starten
docker-compose up -d

# Backend starten
cd backend && pip install -r requirements.txt
uvicorn app.main:app --reload

# Frontend starten
cd frontend && npm install && npm start
```

üéâ **Fertig!** √ñffne [http://localhost:3000](http://localhost:3000)

## üöÄ MVP Quick Start

> **F√ºr Entwickler, die sofort loslegen wollen - ohne Docker oder komplexe Datenbank-Setups!**

### ‚ö° In 3 Minuten startklar (SQLite-Version)

```bash
# 1. Repository klonen
git clone https://github.com/your-org/ki-qms.git
cd ki-qms

# 2. Backend starten (SQLite + lokales AI)
cd backend
python -m venv venv
source venv/bin/activate  # Linux/Mac: venv\Scripts\activate (Windows)
pip install -r requirements-mvp.txt
python scripts/init_mvp_db.py  # SQLite DB mit Testdaten
uvicorn app.main:app --reload

# 3. Frontend starten (neues Terminal)
cd frontend
npm install
npm start
```

üéØ **Das war's!** Das MVP l√§uft vollst√§ndig lokal mit:
- ‚úÖ SQLite-Datenbank (keine Installation n√∂tig)
- ‚úÖ Lokale KI-Modelle (offline-f√§hig)
- ‚úÖ Vollst√§ndige Kernfunktionen
- ‚úÖ Testdaten bereits geladen

üìö **Detaillierte Anleitung:** [MVP Phase 1 Implementierungsguide](docs/mvp-phase-1.md)

### üîß MVP-Features

| Feature | Status | Beschreibung |
|---------|--------|--------------|
| üìÑ Dokumentenverwaltung | ‚úÖ | Erstellen, bearbeiten, versionieren |
| üë• Benutzerverwaltung | ‚úÖ | Login, Rollen, Berechtigungen |
| üîç Volltextsuche | ‚úÖ | SQLite FTS5 |
| üìä Basic Analytics | ‚úÖ | Dashboards, Statistiken |
| ü§ñ KI-Grundfunktionen | ‚úÖ | Offline-Embeddings, Text-Klassifikation |
| üìã Kalibrierungsgrundlagen | ‚úÖ | Equipment-Verwaltung, Termine |
| üîê **RBAC-System** | ‚úÖ | **13 Interessensgruppen (inkl. externe Stakeholder), granulare Berechtigungen** |

### üéØ MVP vs. Vollversion

| Komponente | MVP (SQLite) | Vollversion |
|------------|--------------|-------------|
| **Datenbank** | SQLite (1 Datei) | PostgreSQL + Neo4j + Pinecone |
| **KI/ML** | Lokal (Hugging Face) | Cloud + Lokal |
| **Setup-Zeit** | 3 Minuten | 15+ Minuten |
| **Abh√§ngigkeiten** | Python + Node.js | Docker, Kubernetes, etc. |
| **Skalierung** | Bis ~1000 Dokumente | Unbegrenzt |

### üõ†Ô∏è MVP-Struktur

```
mvp-setup/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ requirements-mvp.txt    # Minimal dependencies
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py            # FastAPI app
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database_sqlite.py # SQLite configuration
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models_simple.py   # Simplified models
‚îÇ   ‚îî‚îÄ‚îÄ scripts/
‚îÇ       ‚îî‚îÄ‚îÄ init_mvp_db.py     # DB setup with test data
‚îî‚îÄ‚îÄ frontend/
    ‚îî‚îÄ‚îÄ src/
        ‚îî‚îÄ‚îÄ config/
            ‚îî‚îÄ‚îÄ mvp.ts         # MVP configuration
```

## üèóÔ∏è Architektur

### System-√úberblick
```mermaid
graph TD
    A[Frontend Layer] --> B[API Gateway]
    B --> C[Backend Services]
    C --> D[Data Layer]
    D --> E[Vector Store]
    D --> F[Graph Database]
    D --> G[Document Store]
    C --> H[AI Services]
```

### Technologie-Stack

| Bereich | Technologie | Zweck |
|---------|-------------|--------|
| **Backend** | FastAPI + Python | REST API, Gesch√§ftslogik |
| **Frontend** | React + TypeScript | Benutzeroberfl√§che |
| **Datenbank** | PostgreSQL + Neo4j + Pinecone | Strukturierte + Graph + Vector-Daten |
| **KI/ML** | PyTorch + LangChain | RAG, Embeddings, Analytics |
| **DevOps** | Docker + Kubernetes | Container, Orchestrierung |

## üîß Installation

### Entwicklungsumgebung

```bash
# 1. Repository setup
git clone https://github.com/your-org/ki-qms.git
cd ki-qms

# 2. Backend setup
cd backend
python -m venv venv
source venv/bin/activate  # Linux/Mac
pip install -r requirements.txt

# 3. Frontend setup
cd ../frontend
npm install

# 4. Datenbank setup
docker-compose -f docker-compose.dev.yml up -d
```

### Produktionsumgebung

```bash
# Mit Docker Compose
docker-compose -f docker-compose.prod.yml up -d

# Mit Kubernetes
kubectl apply -f k8s/
```

## üìö Dokumentation

Die detaillierte technische Dokumentation wurde in separate Dateien ausgelagert:

| Dokument | Beschreibung |
|----------|--------------|
| [üöÄ **MVP Phase 1 Guide**](docs/mvp-phase-1.md) | **Detaillierte Implementierungsanleitung Backend** |
| [üìñ API-Dokumentation](docs/api.md) | REST API Endpunkte und Schemas |
| [üèóÔ∏è Architektur-Guide](docs/architecture.md) | Detaillierte Systemarchitektur |
| [üîß Entwickler-Guide](docs/development.md) | Setup, Testing, Deployment |
| [üìã GAMP 5 Validierung](docs/validation.md) | IQ/OQ/PQ Protokolle |
| [üîí Sicherheit](docs/security.md) | DSGVO, Zugriffskontrolle |
| [üí° Code-Beispiele](docs/examples.md) | Implementierungsbeispiele |
| [üóÑÔ∏è Datenbank-Schema](docs/database.md) | Datenmodelle und Beziehungen |

## üöÄ Entwicklung

### Kernmodule

#### 1. üìÑ Dokumentenmanagement
- Automatische Metadatenextraktion
- Versionierung & √Ñnderungsverfolgung
- Semantische Suche
- Abh√§ngigkeitsanalyse

#### 2. üîÑ Kalibrierungsmanagement
- Automatische Frist√ºberwachung
- Trendanalyse von Messdaten
- Digitale Nachweise
- Eskalationsmanagement

#### 3. üß† KI-Integration (RAG)
- Semantische Dokumentensuche
- Kontextbewusste Antworten
- Automatische Normenanalyse
- Gap-Detection

#### 4. üìä Analytics & Reporting
- Echtzeit-Dashboards
- Pr√§diktive Analysen
- Compliance-Monitoring
- Automatische Berichte

### MVP Implementierung (3-Phasen-Ansatz)

> **Intelligente Reihenfolge: Backend ‚Üí GenAI ‚Üí RAG**

#### üèóÔ∏è **Phase 1: Backend + Datenbank Foundation** (2-3 Wochen)

**Warum zuerst?** Klare Datenmodelle und stabile APIs sind das Fundament f√ºr alles weitere.

**Woche 1-2: Core Backend**
- [x] FastAPI Backend-Setup mit Pydantic
- [x] SQLite-Datenbank f√ºr MVP (einfacher Start)
- [ ] **Kernmodelle definieren:**
  ```python
  # Beispiel Datenmodelle
  class Document(BaseModel): ...
  class Norm(BaseModel): ...
  class Calibration(BaseModel): ...
  class User(BaseModel): ...
  ```
- [ ] **Stabile API-Endpunkte erstellen:**
  - `GET/POST /api/documents/`
  - `GET/POST /api/norms/`
  - `GET/POST /api/calibrations/`
  - `GET/POST /api/users/`
- [ ] Basis-CRUD-Operationen implementieren
- [ ] Erste Testdaten anlegen

**Woche 3: Testing & Validierung**
- [ ] Unit Tests f√ºr alle Modelle
- [ ] API-Tests mit FastAPI TestClient
- [ ] Datenbank-Migrations-System
- [ ] Minimal-Frontend f√ºr API-Testing

**‚úÖ Erfolgskriterium:** Vollst√§ndige CRUD-Operationen √ºber API testbar

---

#### ü§ñ **Phase 2: GenAI Integration** (2-3 Wochen)

**Warum jetzt?** Backend l√§uft stabil, jetzt KI-Features ohne RAG-Komplexit√§t testen.

**Woche 4-5: Simple GenAI**
- [ ] **OpenAI/Anthropic API integrieren**
- [ ] **Einfache KI-Abfragen implementieren:**
  - "Was ist ISO 13485?"
  - "Erkl√§re MDR Artikel 61"
  - "Welche Norm gilt f√ºr Lieferantenabk√ºndigungen?"
- [ ] **KI-Service-Layer erstellen:**
  ```python
  class AIService:
      async def query_general(self, question: str) -> str
      async def analyze_document(self, content: str) -> Analysis
  ```
- [ ] Token-Management und Logging
- [ ] Rate-Limiting implementieren

**Woche 6: UX & Integration**
- [ ] Frontend Chat-Interface
- [ ] Conversation History
- [ ] Error Handling f√ºr AI-Services
- [ ] Streaming Responses (optional)

**‚úÖ Erfolgskriterium:** Benutzer k√∂nnen KI-Fragen stellen und Antworten erhalten

---

#### üß† **Phase 3: RAG Implementation** (3-4 Wochen)

**Warum zum Schluss?** Komplexeste Komponente, ben√∂tigt stabiles Backend und AI-Integration.

**Woche 7-8: Vector Search Setup**
- [ ] **Embedding-System integrieren:**
  - Lokale Embeddings (sentence-transformers)
  - Vector Database (Chroma/SQLite-VSS f√ºr MVP)
- [ ] **Dokumenten-Indexierung:**
  ```python
  class DocumentIndexer:
      def index_document(self, doc: Document) -> List[Embedding]
      def search_similar(self, query: str) -> List[Document]
  ```
- [ ] Chunk-Strategien f√ºr verschiedene Dokumenttypen
- [ ] Metadata-Filtering

**Woche 9-10: RAG Implementation**
- [ ] **RAG-Pipeline erstellen:**
  - Retrieval: Relevante Dokumente finden
  - Augmentation: Kontext f√ºr GenAI aufbauen
  - Generation: Kontextbewusste Antworten
- [ ] **√úbergang von Simple GenAI zu RAG:**
  ```python
  # Vorher: Nur GenAI
  await ai_service.query_general("Was ist ISO 13485?")
  
  # Nachher: RAG mit eigenen Dokumenten
  await rag_service.query_with_context("Was steht in unserer ISO 13485 Dokumentation?")
  ```
- [ ] Hybrid Search (Keyword + Semantic)
- [ ] Source Attribution (Quellenangaben)

**Woche 11: Optimization & Polish**
- [ ] Performance-Optimierung
- [ ] Advanced RAG Features (Re-ranking, etc.)
- [ ] Frontend Integration
- [ ] End-to-End Testing

**‚úÖ Erfolgskriterium:** RAG beantwortet Fragen basierend auf eigenen Dokumenten

---

#### üéØ **Vorteile dieser Reihenfolge:**

| Phase | Was l√§uft | Was getestet wird | Risiko |
|-------|-----------|-------------------|--------|
| **1: Backend** | CRUD, API, DB | Datenmodelle, Stabilit√§t | üü¢ Niedrig |
| **2: GenAI** | + KI-Grundfunktionen | UX, Token-Management | üü° Mittel |
| **3: RAG** | + Kontextbewusste KI | Komplexe KI-Workflows | üü† Hoch |

#### üöÄ **Quick Wins pro Phase:**

**Nach Phase 1:** Voll funktionsf√§higes QMS-Backend
**Nach Phase 2:** KI-gest√ºtztes QMS mit allgemeinem Wissen  
**Nach Phase 3:** Vollst√§ndiges RAG-System mit eigenem Wissen

### Qualit√§tssicherung

- **Tests**: Mindestens 80% Coverage
- **Linting**: ESLint + Black + Ruff
- **Type Safety**: TypeScript + Pydantic
- **Code Reviews**: Pull Request Templates
- **Automatisierte Qualit√§tspr√ºfungen**: CI/CD Pipeline

## üìà Roadmap

### Phase 1: MVP (Q3-Q4 2025) ‚úÖ
- Grundlegende Systemarchitektur
- Kernmodule (Dokumenten-, Kalibrierungsmanagement)
- Erste KI-Integration (Basis-RAG)
- GAMP 5 konforme Validierung

### Phase 2: Erweiterungen (Q1-Q3 2026)
- Erweiterte Analytics und Dashboards
- Mehrsprachigkeit
- Prozessautomatisierung (CAPA-Workflows)
- Erweiterte KI-Features (Gap-Detection)

### Phase 3: Optimierung (Q4 2026+)
- Performance-Optimierung
- Enterprise-Features
- Mobile Apps
- Erweiterte Integrationen

## ü§ù Mitwirken

Wir freuen uns √ºber Beitr√§ge! Siehe [CONTRIBUTING.md](CONTRIBUTING.md) f√ºr Details.

### Entwicklung starten

```bash
# Feature Branch erstellen
git checkout -b feature/dein-feature

# √Ñnderungen committen
git commit -m "feat: neue Funktion hinzugef√ºgt"

# Pull Request erstellen
git push origin feature/dein-feature
```

### Projektstruktur

```
ki-qms/
‚îú‚îÄ‚îÄ backend/          # FastAPI Backend
‚îú‚îÄ‚îÄ frontend/         # React Frontend
‚îú‚îÄ‚îÄ docs/            # Dokumentation
‚îú‚îÄ‚îÄ k8s/             # Kubernetes Manifests
‚îú‚îÄ‚îÄ scripts/         # Deployment Scripts
‚îî‚îÄ‚îÄ tests/           # E2E Tests
```

## üîí Sicherheit & Compliance

- **DSGVO-konform**: Datenschutz by Design
- **GAMP 5 validiert**: IQ/OQ/PQ Protokolle
- **ISO 13485**: Medizinprodukte-QMS
- **MDR-konform**: EU-Medizinprodukteverordnung
- **Audit-Trail**: Vollst√§ndige Nachverfolgbarkeit

## üìÑ Lizenz

Dieses Projekt steht unter der [MIT Lizenz](LICENSE).

## üÜò Support

- üìß **E-Mail**: support@ki-qms.de
- üêõ **Bug Reports**: [GitHub Issues](https://github.com/your-org/ki-qms/issues)
- üí¨ **Diskussionen**: [GitHub Discussions](https://github.com/your-org/ki-qms/discussions)
- üìñ **Dokumentation**: [Wiki](https://github.com/your-org/ki-qms/wiki)

---

> **"KI-QMS: Vom Nachweis zum Vorsprung."**
> 
> Attacke! Qualit√§t wartet nicht! üöÄ 